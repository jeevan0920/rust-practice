use serde_json::{Value, from_str};

// fn main() {    
//     let val: Value = from_str("\"{\\\"schema\\\":\\\"iglu:com.snowplowanalytics.snowplow\\\\/payload_data\\\\/jsonschema\\\\/1-0-4\\\",\\\"data\\\":[{\\\"vp\\\":\\\"1179x2556\\\",\\\"eid\\\":\\\"FF9CBD88-425C-4AB5-B48C-6B701F9FCF6F\\\",\\\"p\\\":\\\"mob\\\",\\\"cx\\\":\\\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY29udGV4dHNcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6W3sic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3Muc25vd3Bsb3dcL21vYmlsZV9jb250ZXh0XC9qc29uc2NoZW1hXC8xLTAtMiIsImRhdGEiOnsicGh5c2ljYWxNZW1vcnkiOjU5MjU0NTM4MjQsImFwcGxlSWRmdiI6IjIwNTJDMDlGLUI2RjktNDg3NC04NjNBLUU2NjQ2ODEyQTY5RSIsImJhdHRlcnlMZXZlbCI6OTAsIm5ldHdvcmtUZWNobm9sb2d5IjoiQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lMVEUiLCJiYXR0ZXJ5U3RhdGUiOiJjaGFyZ2luZyIsIm9zVmVyc2lvbiI6IjE3LjAuMyIsImFwcEF2YWlsYWJsZU1lbW9yeSI6MzE4NDExNDU2MCwibmV0d29ya1R5cGUiOiJ3aWZpIiwib3NUeXBlIjoiaW9zIiwiZGV2aWNlTW9kZWwiOiJpUGhvbmUxNSwyIiwidG90YWxTdG9yYWdlIjoyNTU4NjY3ODU3OTIsImxvd1Bvd2VyTW9kZSI6ZmFsc2UsImRldmljZU1hbnVmYWN0dXJlciI6IkFwcGxlIEluYy4iLCJhdmFpbGFibGVTdG9yYWdlIjoxNjIxNDQwNTEyMCwiY2FycmllciI6Ii0tIn19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvblwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImJ1aWxkIjoiODgzMjEiLCJ2ZXJzaW9uIjoiNS43LjIifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9jdXN0b21fdGFnc1wvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImRhdGEiOnsidHZfbW9kZV9zZXR0aW5ncyI6Im9mZiIsInVzZXJfbG9nZ2VkX2luIjoiZmFsc2UiLCJ1c2VyX2lkIjoiPG51bGw-IiwicHJvZHVjdF90eXBlIjoicHJlbWl1bSJ9fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9ldmVudF9pbmZvXC9qc29uc2NoZW1hXC8xLTAtMSIsImRhdGEiOnsicHJldmlvdXNFdmVudFRpbWVzdGFtcCI6IjIwMjMtMTEtMjRUMDQ6NTc6NDcuODc5WiIsImV2ZW50SW5kZXgiOjE1fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY2xpZW50X3Nlc3Npb25cL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJ1c2VySWQiOiI0OGRmMmM0My00YjUyLTQ5ZjQtODJmMS1iNzNhNDNmMmM2NGEiLCJzdG9yYWdlTWVjaGFuaXNtIjoiTE9DQUxfU1RPUkFHRSIsInNlc3Npb25JbmRleCI6MTAsInByZXZpb3VzU2Vzc2lvbklkIjoiZTJmY2ZkNzUtZmIwNS00OTY3LWIxZTYtODYyYTU5ZWJiYjVjIiwic2Vzc2lvbklkIjoiMjgyNTY0ODMtYTFmZS00YzcxLTkwMjAtYTQzYjU2ZjhmYzFlIiwiZXZlbnRJbmRleCI6MTUsImZpcnN0RXZlbnRJZCI6IjgxRDUxREUxLTZBMjUtNDNFNC04RTlELUEzMkQzM0I3NTU2NiIsImZpcnN0RXZlbnRUaW1lc3RhbXAiOiIyMDIzLTExLTI0VDA0OjUzOjIxLjM2MloifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9jbGlkX3NjaGVtYVwvanNvbnNjaGVtYVwvMS0wLTIiLCJkYXRhIjp7ImV2ZW50SW5kZXgiOjE1LCJjbGlkIjoiMjM1ODQyNzE3Ni4zOTkyOTg4MjQ4LjI5NDg0MTM2NzQuMTIzMjU5ODQxOCIsImlpZCI6IjEwMTc3MDg0NzIiLCJjayI6Ijk3ZDdlNmQ0YTU0YTZmMWMwYjdkODUxMjc5Nzk1ZTE0MTc5MTRjNWYifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhLm1vYmlsZVwvaW9zX2FwcF9sb2FkdGltZVwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImFwcEFjdGl2ZSI6MTcwMDgwMTYwMTMzMSwidXNlckludGVyYWN0YWJsZSI6MTcwMDgwMTYwMTM1NSwibG9hZGVkVG9NZW1vcnkiOjE3MDA4MDE2MDA5MzEsImZpbmlzaGVkTGF1bmNoIjoxNzAwODAxNjAxMzI0fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9kZXZpY2VfcGVyZm9ybWFuY2VfY29udGV4dFwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImNwdVVzYWdlIjo1fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL3NjcmVlblwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7InRvcFZpZXdDb250cm9sbGVyIjoiVEZQcmVzZW50YXRpb24uQXBwQ29vcmRpbmF0b3IiLCJpZCI6Ijc3Qzg2MkZFLUNFOTUtNDQwQi1BM0E0LTg5QTM4RUM4OTkwNyIsIm5hbWUiOiJURlByZXNlbnRhdGlvbi5BcHBDb29yZGluYXRvciIsInR5cGUiOiJEZWZhdWx0Iiwidmlld0NvbnRyb2xsZXIiOiJURlByZXNlbnRhdGlvbi5BcHBDb29yZGluYXRvciJ9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmEubW9iaWxlXC9pb3Nfc2NyZWVuX2xvYWR0aW1lXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsic2NyZWVuTG9hZGVkVG9NZW1vcnkiOjE3MDA4MDE2MDExNjEsInNjcmVlbkludGVyYWN0YWJsZSI6MTcwMDgwMTYwMTM2Mn19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvbl9saWZlY3ljbGVcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJpbmRleCI6MywiaXNWaXNpYmxlIjpmYWxzZX19XX0\\\",\\\"tz\\\":\\\"Asia\\\\/Bangkok\\\",\\\"stm\\\":\\\"1700801868882\\\",\\\"dtm\\\":\\\"1700801867899\\\",\\\"tv\\\":\\\"ios-0.2.16\\\",\\\"tna\\\":\\\"CAT\\\",\\\"ue_px\\\":\\\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvdW5zdHJ1Y3RfZXZlbnRcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvYXBwbGljYXRpb25fYmFja2dyb3VuZFwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImJhY2tncm91bmRJbmRleCI6M319fQ\\\",\\\"e\\\":\\\"ue\\\",\\\"lang\\\":\\\"nl-NL\\\",\\\"aid\\\":\\\"IOS\\\",\\\"res\\\":\\\"1179x2556\\\"}]}\"").unwrap();
//     println!("first json {:#?}", val);

//     let second: Value = from_str(&val.to_string()).unwrap();
//     println!("second json {:#?}", second);

//     let third: Value = from_str(&serde_json::to_string_pretty(&second.to_string()).unwrap()).unwrap();
//     println!("third json {:#?}", third);

// }

fn main() {
    // Your JSON string
    let json_string = String::from("\"{\\\"schema\\\":\\\"iglu:com.snowplowanalytics.snowplow\\\\/payload_data\\\\/jsonschema\\\\/1-0-4\\\",\\\"data\\\":[{\\\"vp\\\":\\\"1179x2556\\\",\\\"eid\\\":\\\"FF9CBD88-425C-4AB5-B48C-6B701F9FCF6F\\\",\\\"p\\\":\\\"mob\\\",\\\"cx\\\":\\\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY29udGV4dHNcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6W3sic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3Muc25vd3Bsb3dcL21vYmlsZV9jb250ZXh0XC9qc29uc2NoZW1hXC8xLTAtMiIsImRhdGEiOnsicGh5c2ljYWxNZW1vcnkiOjU5MjU0NTM4MjQsImFwcGxlSWRmdiI6IjIwNTJDMDlGLUI2RjktNDg3NC04NjNBLUU2NjQ2ODEyQTY5RSIsImJhdHRlcnlMZXZlbCI6OTAsIm5ldHdvcmtUZWNobm9sb2d5IjoiQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lMVEUiLCJiYXR0ZXJ5U3RhdGUiOiJjaGFyZ2luZyIsIm9zVmVyc2lvbiI6IjE3LjAuMyIsImFwcEF2YWlsYWJsZU1lbW9yeSI6MzE4NDExNDU2MCwibmV0d29ya1R5cGUiOiJ3aWZpIiwib3NUeXBlIjoiaW9zIiwiZGV2aWNlTW9kZWwiOiJpUGhvbmUxNSwyIiwidG90YWxTdG9yYWdlIjoyNTU4NjY3ODU3OTIsImxvd1Bvd2VyTW9kZSI6ZmFsc2UsImRldmljZU1hbnVmYWN0dXJlciI6IkFwcGxlIEluYy4iLCJhdmFpbGFibGVTdG9yYWdlIjoxNjIxNDQwNTEyMCwiY2FycmllciI6Ii0tIn19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvblwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImJ1aWxkIjoiODgzMjEiLCJ2ZXJzaW9uIjoiNS43LjIifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9jdXN0b21fdGFnc1wvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImRhdGEiOnsidHZfbW9kZV9zZXR0aW5ncyI6Im9mZiIsInVzZXJfbG9nZ2VkX2luIjoiZmFsc2UiLCJ1c2VyX2lkIjoiPG51bGw-IiwicHJvZHVjdF90eXBlIjoicHJlbWl1bSJ9fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9ldmVudF9pbmZvXC9qc29uc2NoZW1hXC8xLTAtMSIsImRhdGEiOnsicHJldmlvdXNFdmVudFRpbWVzdGFtcCI6IjIwMjMtMTEtMjRUMDQ6NTc6NDcuODc5WiIsImV2ZW50SW5kZXgiOjE1fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY2xpZW50X3Nlc3Npb25cL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJ1c2VySWQiOiI0OGRmMmM0My00YjUyLTQ5ZjQtODJmMS1iNzNhNDNmMmM2NGEiLCJzdG9yYWdlTWVjaGFuaXNtIjoiTE9DQUxfU1RPUkFHRSIsInNlc3Npb25JbmRleCI6MTAsInByZXZpb3VzU2Vzc2lvbklkIjoiZTJmY2ZkNzUtZmIwNS00OTY3LWIxZTYtODYyYTU5ZWJiYjVjIiwic2Vzc2lvbklkIjoiMjgyNTY0ODMtYTFmZS00YzcxLTkwMjAtYTQzYjU2ZjhmYzFlIiwiZXZlbnRJbmRleCI6MTUsImZpcnN0RXZlbnRJZCI6IjgxRDUxREUxLTZBMjUtNDNFNC04RTlELUEzMkQzM0I3NTU2NiIsImZpcnN0RXZlbnRUaW1lc3RhbXAiOiIyMDIzLTExLTI0VDA0OjUzOjIxLjM2MloifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9jbGlkX3NjaGVtYVwvanNvbnNjaGVtYVwvMS0wLTIiLCJkYXRhIjp7ImV2ZW50SW5kZXgiOjE1LCJjbGlkIjoiMjM1ODQyNzE3Ni4zOTkyOTg4MjQ4LjI5NDg0MTM2NzQuMTIzMjU5ODQxOCIsImlpZCI6IjEwMTc3MDg0NzIiLCJjayI6Ijk3ZDdlNmQ0YTU0YTZmMWMwYjdkODUxMjc5Nzk1ZTE0MTc5MTRjNWYifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhLm1vYmlsZVwvaW9zX2FwcF9sb2FkdGltZVwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImFwcEFjdGl2ZSI6MTcwMDgwMTYwMTMzMSwidXNlckludGVyYWN0YWJsZSI6MTcwMDgwMTYwMTM1NSwibG9hZGVkVG9NZW1vcnkiOjE3MDA4MDE2MDA5MzEsImZpbmlzaGVkTGF1bmNoIjoxNzAwODAxNjAxMzI0fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhXC9kZXZpY2VfcGVyZm9ybWFuY2VfY29udGV4dFwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImNwdVVzYWdlIjo1fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL3NjcmVlblwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7InRvcFZpZXdDb250cm9sbGVyIjoiVEZQcmVzZW50YXRpb24uQXBwQ29vcmRpbmF0b3IiLCJpZCI6Ijc3Qzg2MkZFLUNFOTUtNDQwQi1BM0E0LTg5QTM4RUM4OTkwNyIsIm5hbWUiOiJURlByZXNlbnRhdGlvbi5BcHBDb29yZGluYXRvciIsInR5cGUiOiJEZWZhdWx0Iiwidmlld0NvbnRyb2xsZXIiOiJURlByZXNlbnRhdGlvbi5BcHBDb29yZGluYXRvciJ9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmEubW9iaWxlXC9pb3Nfc2NyZWVuX2xvYWR0aW1lXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsic2NyZWVuTG9hZGVkVG9NZW1vcnkiOjE3MDA4MDE2MDExNjEsInNjcmVlbkludGVyYWN0YWJsZSI6MTcwMDgwMTYwMTM2Mn19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvbl9saWZlY3ljbGVcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJpbmRleCI6MywiaXNWaXNpYmxlIjpmYWxzZX19XX0\\\",\\\"tz\\\":\\\"Asia\\\\/Bangkok\\\",\\\"stm\\\":\\\"1700801868882\\\",\\\"dtm\\\":\\\"1700801867899\\\",\\\"tv\\\":\\\"ios-0.2.16\\\",\\\"tna\\\":\\\"CAT\\\",\\\"ue_px\\\":\\\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvdW5zdHJ1Y3RfZXZlbnRcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvYXBwbGljYXRpb25fYmFja2dyb3VuZFwvanNvbnNjaGVtYVwvMS0wLTAiLCJkYXRhIjp7ImJhY2tncm91bmRJbmRleCI6M319fQ\\\",\\\"e\\\":\\\"ue\\\",\\\"lang\\\":\\\"nl-NL\\\",\\\"aid\\\":\\\"IOS\\\",\\\"res\\\":\\\"1179x2556\\\"}]}\"");

    // payload from log file
    // let json_string = String::from("\"{\\\"\"schema\\\"\":\\\"\"iglu:com.snowplowanalytics.snowplow\\\\/payload_data\\\\/jsonschema\\\\/1-0-4\\\"\",\\\"\"data\\\"\":[{\\\"\"eid\\\"\":\\\"\"032e6af7-d1d8-4f1e-bf75-820b86ba11cb\\\"\",\\\"\"res\\\"\":\\\"\"720x1440\\\"\",\\\"\"tv\\\"\":\\\"\"andr-0.7.5.1\\\"\",\\\"\"e\\\"\":\\\"\"ue\\\"\",\\\"\"tna\\\"\":\\\"\"CAT\\\"\",\\\"\"tz\\\"\":\\\"\"Asia\\\\/Kolkata\\\"\",\\\"\"stm\\\"\":\\\"\"1702565625727\\\"\",\\\"\"p\\\"\":\\\"\"mob\\\"\",\\\"\"uid\\\"\":\\\"\"Z5X_7de0c90893187ebc362f6bf5dc8e41d4b7d46ba37b8b4c2fbd232f07ea9a39e1\\\"\",\\\"\"cx\\\"\":\\\"\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY29udGV4dHNcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6W3sic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3Muc25vd3Bsb3dcL2NsaWVudF9zZXNzaW9uXC9qc29uc2NoZW1hXC8xLTAtMiIsImRhdGEiOnsic2Vzc2lvbkluZGV4IjoyLCJzdG9yYWdlTWVjaGFuaXNtIjoiTE9DQUxfU1RPUkFHRSIsImZpcnN0RXZlbnRUaW1lc3RhbXAiOiIyMDIzLTEyLTEwVDExOjEyOjQyLjA3OFoiLCJmaXJzdEV2ZW50SWQiOiJkZDU0NDFhZi00MWM5LTQzY2EtYjUxZi0yN2Q2ZjBkM2MzYWEiLCJzZXNzaW9uSWQiOiIyZmI1YmE1MC0zNDcxLTQxMGYtYjQ3Ni1hOWE5Y2Y0NTNjZWMiLCJldmVudEluZGV4IjoyNSwicHJldmlvdXNTZXNzaW9uSWQiOiI4MzM5YzQ5MS1kZjEyLTRkY2YtOWM5MC0xMTBhMGEyNjU5NDUiLCJ1c2VySWQiOiIzODkyMWFiZC1kNGZmLTQ2MmUtODUyNi1kMmRmYzIzYTU2YzIifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL2FwcGxpY2F0aW9uXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiYnVpbGQiOiIyMDMzMTE2NzgiLCJ2ZXJzaW9uIjoiMzguNzEuMTAifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvbW9iaWxlX2NvbnRleHRcL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJjYXJyaWVyIjoiSklPIDRHIiwidG90YWxTdG9yYWdlIjo1NTQ4NTM2NjI3Miwic3lzdGVtQXZhaWxhYmxlTWVtb3J5IjoxNzY4NjMyMzIwLCJvc1ZlcnNpb24iOiIxMiIsImJhdHRlcnlTdGF0ZSI6InVucGx1Z2dlZCIsImF2YWlsYWJsZVN0b3JhZ2UiOjI0NzkyNjg2NTkyLCJvc1R5cGUiOiJhbmRyb2lkIiwiYW5kcm9pZElkZmEiOiJkMGEyMmMxZC0wZDNkLTRiYWEtYjBlYy1hNTk1ZjY4N2M5ZjIiLCJkZXZpY2VNb2RlbCI6Im1vdG8gZzIyIiwibG93UG93ZXJNb2RlIjpmYWxzZSwiZGV2aWNlTWFudWZhY3R1cmVyIjoibW90b3JvbGEiLCJuZXR3b3JrVHlwZSI6Im9mZmxpbmUiLCJwaHlzaWNhbE1lbW9yeSI6Mzk1MzI2NjY4OCwiYmF0dGVyeUxldmVsIjo1N319LHsic2NoZW1hIjoiaWdsdTpjb20uY29udml2YVwvY2xpZF9zY2hlbWFcL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJpaWQiOiI4MTk0NzE1ODMiLCJjayI6IjI4YmJmMGEzZGVjZjZkMTE2NTAzMmJmZDgzNWQ2ZTE4NDRjNWQ0NGQiLCJjbGlkIjoiMTEwMTU5MTI2NS4yMDUwMTEyMTI2LjI1OTI4NDQwNjYuMzA0ODgzMzYwMyIsImV2ZW50SW5kZXgiOjY2fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhLm1vYmlsZVwvYW5kcm9pZF9hcHBfbG9hZHRpbWVcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6eyJvbkNyZWF0ZSI6MTcwMjIwNjc2MTgzNiwiYXBwTG9hZCI6MTcwMjIwNjc2MTAxOSwib25SZXN1bWUiOjE3MDIyMDY3NjIxNDV9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmFcL2V2ZW50X2luZm9cL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6eyJwcmV2aW91c0V2ZW50VGltZXN0YW1wIjoiMjAyMy0xMi0xMFQxMTozMzoyMi43MTVaIiwiZXZlbnRJbmRleCI6MjV9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmFcL2N1c3RvbV90YWdzXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiZGF0YSI6e319fSx7InNjaGVtYSI6ImlnbHU6Y29tLnNub3dwbG93YW5hbHl0aWNzLm1vYmlsZVwvc2NyZWVuXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiYWN0aXZpdHkiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJuYW1lIjoiY29tLnplZTUuTWFpbkFjdGl2aXR5IiwiaWQiOiI2ZjFkNmE2NC0yYmZjLTQ3NmQtOWRlZC02ZjQyYzkzY2NhNDEiLCJ0eXBlIjoiY29tLnplZTUuTWFpbkFjdGl2aXR5In19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvbl9saWZlY3ljbGVcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJpbmRleCI6MSwiaXNWaXNpYmxlIjp0cnVlfX1dfQ==\\\"\",\\\"\"ue_px\\\"\":\\\"\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvdW5zdHJ1Y3RfZXZlbnRcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL3NjcmVlbl92aWV3XC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsibmFtZSI6ImNvbS56ZWU1Lk1haW5BY3Rpdml0eSIsInByZXZpb3VzSWQiOiJkYjY0NzBkZi0xNDdiLTRjMjYtYjQyMi0wNDYxODdmNDdkNWMiLCJpZCI6IjZmMWQ2YTY0LTJiZmMtNDc2ZC05ZGVkLTZmNDJjOTNjY2E0MSIsInR5cGUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJwcmV2aW91c05hbWUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJwcmV2aW91c1R5cGUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkifX19\\\"\",\\\"\"dtm\\\"\":\\\"\"1702208002729\\\"\",\\\"\"lang\\\"\":\\\"\"English\\\"\",\\\"\"aid\\\"\":\\\"\"Android-Mobile-Zee5\\\"\"}]}\"");


    // payload manufally copied from terminal 
    // let json_string = String::from("\"{\\\"\"schema\\\"\":\\\"\"iglu:com.snowplowanalytics.snowplow\\\\/payload_data\\\\/jsonschema\\\\/1-0-4\\\"\",\\\"\"data\\\"\":[{\\\"\"eid\\\"\":\\\"\"032e6af7-d1d8-4f1e-bf75-820b86ba11cb\\\"\",\\\"\"res\\\"\":\\\"\"720x1440\\\"\",\\\"\"tv\\\"\":\\\"\"andr-0.7.5.1\\\"\",\\\"\"e\\\"\":\\\"\"ue\\\"\",\\\"\"tna\\\"\":\\\"\"CAT\\\"\",\\\"\"tz\\\"\":\\\"\"Asia\\\\/Kolkata\\\"\",\\\"\"stm\\\"\":\\\"\"1702565625727\\\"\",\\\"\"p\\\"\":\\\"\"mob\\\"\",\\\"\"uid\\\"\":\\\"\"Z5X_7de0c90893187ebc362f6bf5dc8e41d4b7d46ba37b8b4c2fbd232f07ea9a39e1\\\"\",\\\"\"cx\\\"\":\\\"\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvY29udGV4dHNcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6W3sic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3Muc25vd3Bsb3dcL2NsaWVudF9zZXNzaW9uXC9qc29uc2NoZW1hXC8xLTAtMiIsImRhdGEiOnsic2Vzc2lvbkluZGV4IjoyLCJzdG9yYWdlTWVjaGFuaXNtIjoiTE9DQUxfU1RPUkFHRSIsImZpcnN0RXZlbnRUaW1lc3RhbXAiOiIyMDIzLTEyLTEwVDExOjEyOjQyLjA3OFoiLCJmaXJzdEV2ZW50SWQiOiJkZDU0NDFhZi00MWM5LTQzY2EtYjUxZi0yN2Q2ZjBkM2MzYWEiLCJzZXNzaW9uSWQiOiIyZmI1YmE1MC0zNDcxLTQxMGYtYjQ3Ni1hOWE5Y2Y0NTNjZWMiLCJldmVudEluZGV4IjoyNSwicHJldmlvdXNTZXNzaW9uSWQiOiI4MzM5YzQ5MS1kZjEyLTRkY2YtOWM5MC0xMTBhMGEyNjU5NDUiLCJ1c2VySWQiOiIzODkyMWFiZC1kNGZmLTQ2MmUtODUyNi1kMmRmYzIzYTU2YzIifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL2FwcGxpY2F0aW9uXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiYnVpbGQiOiIyMDMzMTE2NzgiLCJ2ZXJzaW9uIjoiMzguNzEuMTAifX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvbW9iaWxlX2NvbnRleHRcL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJjYXJyaWVyIjoiSklPIDRHIiwidG90YWxTdG9yYWdlIjo1NTQ4NTM2NjI3Miwic3lzdGVtQXZhaWxhYmxlTWVtb3J5IjoxNzY4NjMyMzIwLCJvc1ZlcnNpb24iOiIxMiIsImJhdHRlcnlTdGF0ZSI6InVucGx1Z2dlZCIsImF2YWlsYWJsZVN0b3JhZ2UiOjI0NzkyNjg2NTkyLCJvc1R5cGUiOiJhbmRyb2lkIiwiYW5kcm9pZElkZmEiOiJkMGEyMmMxZC0wZDNkLTRiYWEtYjBlYy1hNTk1ZjY4N2M5ZjIiLCJkZXZpY2VNb2RlbCI6Im1vdG8gZzIyIiwibG93UG93ZXJNb2RlIjpmYWxzZSwiZGV2aWNlTWFudWZhY3R1cmVyIjoibW90b3JvbGEiLCJuZXR3b3JrVHlwZSI6Im9mZmxpbmUiLCJwaHlzaWNhbE1lbW9yeSI6Mzk1MzI2NjY4OCwiYmF0dGVyeUxldmVsIjo1N319LHsic2NoZW1hIjoiaWdsdTpjb20uY29udml2YVwvY2xpZF9zY2hlbWFcL2pzb25zY2hlbWFcLzEtMC0yIiwiZGF0YSI6eyJpaWQiOiI4MTk0NzE1ODMiLCJjayI6IjI4YmJmMGEzZGVjZjZkMTE2NTAzMmJmZDgzNWQ2ZTE4NDRjNWQ0NGQiLCJjbGlkIjoiMTEwMTU5MTI2NS4yMDUwMTEyMTI2LjI1OTI4NDQwNjYuMzA0ODgzMzYwMyIsImV2ZW50SW5kZXgiOjY2fX0seyJzY2hlbWEiOiJpZ2x1OmNvbS5jb252aXZhLm1vYmlsZVwvYW5kcm9pZF9hcHBfbG9hZHRpbWVcL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6eyJvbkNyZWF0ZSI6MTcwMjIwNjc2MTgzNiwiYXBwTG9hZCI6MTcwMjIwNjc2MTAxOSwib25SZXN1bWUiOjE3MDIyMDY3NjIxNDV9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmFcL2V2ZW50X2luZm9cL2pzb25zY2hlbWFcLzEtMC0xIiwiZGF0YSI6eyJwcmV2aW91c0V2ZW50VGltZXN0YW1wIjoiMjAyMy0xMi0xMFQxMTozMzoyMi43MTVaIiwiZXZlbnRJbmRleCI6MjV9fSx7InNjaGVtYSI6ImlnbHU6Y29tLmNvbnZpdmFcL2N1c3RvbV90YWdzXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiZGF0YSI6e319fSx7InNjaGVtYSI6ImlnbHU6Y29tLnNub3dwbG93YW5hbHl0aWNzLm1vYmlsZVwvc2NyZWVuXC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsiYWN0aXZpdHkiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJuYW1lIjoiY29tLnplZTUuTWFpbkFjdGl2aXR5IiwiaWQiOiI2ZjFkNmE2NC0yYmZjLTQ3NmQtOWRlZC02ZjQyYzkzY2NhNDEiLCJ0eXBlIjoiY29tLnplZTUuTWFpbkFjdGl2aXR5In19LHsic2NoZW1hIjoiaWdsdTpjb20uc25vd3Bsb3dhbmFseXRpY3MubW9iaWxlXC9hcHBsaWNhdGlvbl9saWZlY3ljbGVcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJpbmRleCI6MSwiaXNWaXNpYmxlIjp0cnVlfX1dfQ==\\\"\",\\\"\"ue_px\\\"\":\\\"\"eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5zbm93cGxvd1wvdW5zdHJ1Y3RfZXZlbnRcL2pzb25zY2hlbWFcLzEtMC0wIiwiZGF0YSI6eyJzY2hlbWEiOiJpZ2x1OmNvbS5zbm93cGxvd2FuYWx5dGljcy5tb2JpbGVcL3NjcmVlbl92aWV3XC9qc29uc2NoZW1hXC8xLTAtMCIsImRhdGEiOnsibmFtZSI6ImNvbS56ZWU1Lk1haW5BY3Rpdml0eSIsInByZXZpb3VzSWQiOiJkYjY0NzBkZi0xNDdiLTRjMjYtYjQyMi0wNDYxODdmNDdkNWMiLCJpZCI6IjZmMWQ2YTY0LTJiZmMtNDc2ZC05ZGVkLTZmNDJjOTNjY2E0MSIsInR5cGUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJwcmV2aW91c05hbWUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkiLCJwcmV2aW91c1R5cGUiOiJjb20uemVlNS5NYWluQWN0aXZpdHkifX19\\\"\",\\\"\"dtm\\\"\":\\\"\"1702208002729\\\"\",\\\"\"lang\\\"\":\\\"\"English\\\"\",\\\"\"aid\\\"\":\\\"\"Android-Mobile-Zee5\\\"\"}]}\"");

    // Decode the inner JSON string
    let decoded_json: Result<String, _> = serde_json::from_str(&json_string);

    // Check if decoding was successful
    match decoded_json {
        Ok(inner_json) => {
            // Parse the inner JSON string
            let parsed_json: Result<Value, _> = serde_json::from_str(&inner_json);

            // Check if parsing was successful
            match parsed_json {
                Ok(json_object) => {
                    // Successfully parsed JSON, you can now work with the `Value` object
                    println!("{:?}", json_object);
                }
                Err(err) => {
                    // Handle parsing error
                    println!("Error parsing inner JSON: {:?}", err);
                }
            }
        }
        Err(err) => {
            // Handle decoding error
            println!("Error decoding JSON: {:?}", err);
        }
    }
}
